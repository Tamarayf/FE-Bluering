<div class="modal-header">
  <h4 class="modal-title">Add Employee</h4>
  <button type="button" class="close" aria-label="Close" (click)="closeModal()">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
<div class="modal-body">
  <form [formGroup]="employeeForm" (ngSubmit)="saveEmployee()">



    <div class="form-group">
      <label for="firstName">First Name:</label>
      <input type="text" class="form-control" id="firstName" formControlName="firstName" placeholder="First Name">
      <div *ngIf="employeeForm.get('firstName')?.invalid && (employeeForm.get('firstName')?.dirty || employeeForm.get('firstName')?.touched)">
        <small class="text-danger" *ngIf="employeeForm.get('firstName')?.errors?.['required']">First Name is required</small>
      </div>
    </div>

    <div class="form-group">
      <label for="lastName">Last Name:</label>
      <input type="text" class="form-control" id="lastName" formControlName="lastName" placeholder="Last Name">
      <div *ngIf="employeeForm.get('lastName')?.invalid && (employeeForm.get('lastName')?.dirty || employeeForm.get('lastName')?.touched)">
        <small class="text-danger" *ngIf="employeeForm.get('lastName')?.errors?.['required']">Last Name is required</small>
      </div>
    </div>

    <div class="form-group">
      <label for="phoneNumber">Phone Number:</label>
      <input type="string" class="form-control" id="phonenumber" formControlName="phonenumber" placeholder="+961xxxxxxxx">
      <div *ngIf="employeeForm.get('phonenumber')?.invalid && (employeeForm.get('phonenumber')?.dirty || employeeForm.get('phonenumber')?.touched)">
        <small class="text-danger" *ngIf="employeeForm.get('phonenumber')?.errors?.['required']">Phone Number is required</small>
      </div>
    </div>

    <div class="form-group">
      <label for="address">Address:</label>
      <input type="text" class="form-control" id="address" formControlName="address" placeholder="Address">
      <div *ngIf="employeeForm.get('address')?.invalid && (employeeForm.get('address')?.dirty || employeeForm.get('address')?.touched)">
        <small class="text-danger" *ngIf="employeeForm.get('address')?.errors?.['required']">Address is required</small>
      </div>
    </div>

    <div class="form-group">
      <label for="age">Age:</label>
      <input type="number" class="form-control" id="age" formControlName="age" placeholder="Age">
      <div *ngIf="employeeForm.get('age')?.invalid && (employeeForm.get('age')?.dirty || employeeForm.get('age')?.touched)">
        <small class="text-danger" *ngIf="employeeForm.get('age')?.errors?.['required']">Age is required</small>
        <small class="text-danger" *ngIf="employeeForm.get('age')?.errors?.['min']">Age must be at least 18</small>
        <small class="text-danger" *ngIf="employeeForm.get('age')?.errors?.['max']">Age must be less than 65</small>
      </div>
    </div>

    <div class="form-group">
      <label for="department">Department:</label>
      <div class="custom-dropdown">
        <select formControlName="departmentId" id="department" >

          <option value="" disabled selected>Select Department</option>
          <option *ngFor="let dept of departments" [value]="dept.depId">{{ dept.depName }}</option>
        </select>
        <i class="fa-solid fa-x" (click)="clearDepartmentSelection()"></i>
        <div class="arrow">&#9660;</div>
      </div>
      <div *ngIf="employeeForm.get('departmentId')?.invalid && (employeeForm.get('departmentId')?.dirty || employeeForm.get('departmentId')?.touched)">
        <small class="text-danger" *ngIf="employeeForm.get('departmentId')?.errors?.['required']">Department is required</small>
      </div>
    </div>



    <div class="form-group">
      <label>Gender:</label>
      <div class="gender-options">
        <label>
          <input type="radio" formControlName="gender" value="male"> Male
        </label>
        <label>
          <input type="radio" formControlName="gender" value="female"> Female
        </label>
      </div>
      <div *ngIf="employeeForm.get('gender')?.invalid && (employeeForm.get('gender')?.dirty || employeeForm.get('gender')?.touched)">
        <small class="text-danger" *ngIf="employeeForm.get('gender')?.errors?.['required']">Gender is required</small>
      </div>
    </div>

    <div class="modal-footer">
      <button type="button" class="btn btn-secondary" (click)="closeModal()">Close</button>
      <button type="submit" class="btn btn-primary">Save</button>
    </div>

  </form>

</div>
